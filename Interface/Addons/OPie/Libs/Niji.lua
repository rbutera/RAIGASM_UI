local lhc, lhcPal = {}, {} do
	local ht, hp = [=[iQOȹ.x0xDg}N6V8KK$w^9MsB`;t:=	8t#tPu>l׵#^W5ZHg;{1+}a^NBL`gBV%=P^WN.L9?4)_3)(|Iuq	=לKFM&O굑R<[$y64saۄLf{>-NA_8-RU%"Qу<*.FH\iAHzP!]TJvˏ\	|٭(J&S$;'ZyǽW"S	bk`^WWqre>O5틂Ta4`%lnO+ZRqIxs<4UxMQ#n'=&:7l];ၭF49<~{mf*I&Ce[A5zSwSC@[yW^K<&CeVz]|&k}	@[==G5imhǉ&cu|oa-KL2\lϊt=QQz><,dC(ŻB_WIE^TJo|ͷLop.~HNa$vMbY	ǄeHX^c!o>'A	<ح>H, ;*ڙ4jMfx	?z/_wX`39KJEco}Ep\JtA%ot)W0UѼ%b1;UIp.SGf^|<L~N7Þ'֓r1f_љy]2Ikb-!Ai{-h6mע=+goTׂ|%{8g{}k)?4ΆLnDjvW?HXTu-b^^&]P@B"m5"lKsTRa^:.fm@zm04?F\|lTm)M;jZ6϶JO'D-*pKgpf~EȐזgoFZl٦W?1̏(~h:,_[4Q-bgm)[ON`r֟gT o;@GF\4d!Y:־qZ#jY#.K9jWIh(nwS4d_.&fZoL!ޙh,N=5.y 9z%F/B:Hz+O^&wO=ci;ibvdgYh/ߪC0H)k	f:5b	ۋGsag{ctLގ$HNNUpr{ْ2.I16;y4d)ߍ>$w<>"L	J"=Y6k!ὔņ&h2hٚQ{suTCڢaȌ.0V'u{~WW#'|x%7ff<gRW#h]'_3;Z97M.e;c׸8~znM+J";1{alU8'wom۳]f9W3;>Yq?	JFt!|>3mz	قwT\ 1ݙscN`OMT'c\bDIwT৕VPt].eY~]_VzpQJ=e̷'>\y{ /C (:8RJz7Ցq`рF­V΀#zIJ~.},L~cF7P/[j.@K9{_j؊?H{yxqB2)beflN+3Iaz;itEc8.LٚJZx<`ˑ'Bt8}gp Cۡ?bk=c1ua-Kui>#`9|Hf27)5L#ZSxDV7=Dǚ&%Wmݘ932Rߴ	[Cl./~U/ʻRWpAEP,K|-UYc$\{yE2lbuiAS%=>홵tr-s4,əшAI`Dhe肠XUwQ=^;<,M:qeҜOo-̝e3wuķ+|͘?D+t7Iv0HvgZ\(ەxm]Ty;س19 *Ȯ#__jmB5y<#!i5m!Bo29jWMN$';;1yk'PYa8xGv2>pl؇*ȣXyÃTUo%P[9<.>*gl쉳x`݁>0ȈkKPہ&Uf=^q'O0dh&Iim~O/Z8[٨*W:}{ʈ9_CS.mHzv>3Ӧk'ymk)pƍApً@&n	jzd;<FEXAy!n9Otrm5kR4-wP6ʬwbBR{|r|8kɓv|sbMkѯm{UrQ p579`R3FUl19:hI=!n+RM@)'9vz`VYW{M,B\[q{>qőM43?K8I8b5EУ4z5(	H)0Zׇ2$tkFHk+>Fi-{1Ƅ_]Ugk{"6KuKʟdO`O\nC:+jps%<utѶzbS	d:[_qb",;zB'G)ZGSkw*zwQtb#XڸOk3Uߟ4!b=(|g8WNbX-0:O.Ty&Ԫde4wK?!SMX{rV_|a}5?+鲘+Q)5f}NM~DSs[,ʂwDnoT]cW'L>v4IYG"廪6ףLot>_A3AAw&5"w-OY:-%} Bܼ`&l"D0lufsE9+c};a:\IR7H]pl{d2o\@!}0>GgH"RRh=She;eweA/,P3Ȥ˯_q)NpMK! !jq_ue*\R޻[g?+B`Dr9l(݅}PYN9}q@Sd0B~F;aB7`*puesA*ߑp^apJï=Bϻ?zfF4*#p#<˧+Q[@^Nü%̝a*oMuNǥ*{-{dЅz#2ZJi˃fe"_jb@sr8hZw	e2AOXEWiг%:@L52jE5MyɆ`Zp}`8mJ̞׻YvFz@9aV)ۻZ^Mk0$̥B] sLآ%f2+QO1_sz@ׁ3a|QMe̒Qd OI qJQ.bZ5&xI*t,ye:+>::f6^\J.uǧTыHЛ^H$t4l>RGכ5qy4b3YXČ6xWrŦﮰiO_yg hͅ/Jq]<$E2/ZCkJƆw6[[/(~~q̖mZwf!4-8gqX)W\		ёAjw	iAH0KILGWyϷ^B!z+lTiigPwSJ@MUOf`GqW5ٟƔ iCuN=R*p(U}'}ErgaOڇr ,!{7BKp{~{z|-pT2iD.k&3T=	M|bKt϶KPqP!hsY2컁DKDBiڕ@,<	pk/65g^#C7iZczrЊ1ֹO=i<nv(CȽۃ<[װA,'pRL06OPǅ)IIug$KoϼV`MsUЯ"4=b6A~ji_KŴkipBiI5DCmȂ0.ɳ{Īx8gDYX<eDmQ̼v$9E.sb^xCnŸSZR[qjvmi`3a"~gk%@{Ţ.eS̕sF. .'9xsЙ0S`sϨN q[ZWw?$fmER[ćawpq^baZF]pqHooyc6&AV嚅>4cL/^\u?,fS敧$h=0ЧXlEǝ1m[#.̦ΤuVC#E؉m?}/`7_i>dDt$ jq&hz}c[4D}[Roٜ#Q+A#76\Q6(,m>\R[^s=Ft<~*[&˺)y,I߈/e=R/YMRS<`JuTꇔs,Pl]g\pyat;nf0q<T@36TgLQcK_#s!D'bk_p]^#ng0߫<lVh'_S<NT^Q}WU`A:||fuX!~'n3f%J)	9,W0E,k*Knbx~y+I!joS`95¢٩4[rN8Z-9qnZ}%1x7<T\УƯ5вxѻEEҨFcyى"XwGn]SX졗3{EjESrO>kЈgN~ݺ~ؒer ޾|dml+RoXWcBh_ٻ7FP9*LYEn[g-!Anw6 ^z/0J.-\#_V[bG'1a`LQK}<Źvlmv]8g&Yxov$/͍!=i9h5 \W;!AeNdvJ<1nKul3d'H1Vg;$xs9..dMkKB^sng`9Q_95=\dPK/5Gut&=3CWD}zpnnnp8敓/I7-MRޮ|.n3xjqj(WAgy!N PnWgG˘HF0뎕3]1kn#qcCDSykbaeJ'C8VPE>#-\B'43((,/13NFJqo;4c&'?IHK;Vy++:+m	BWbg;J)lv{1E~gVe6A昏wU_h͜"R4RC%k-܇"N^2IvasNӖ+ZndXV>XXBF?B:-,~$r졈GxoW͎0%8`("r..d?9&T/_ﰊ6oMIf!1ʑq)L^[A.&V5UI,xOvphw;Lv8A_a4XM8&KMvdY\&uLV13BJoA/xoa{J5m) 89աDGLqu`-\yj૴ħW<.Hm|*@DTÉ%u(3t#tYcWj0U-=+	x3B8{ݻlb%H.iK5x?]g";V'dWOtyP۩F6ϟA͘U҅/'%ڥ>HMiJk|k ,KUĔ{2j$wZE۴ʂ7sy ,ꆤ((ZnD{4ipD(5@BNusVe.izDV(:քֹKHdȱDr%"ÝrIx'rŽG\"Є9dt1d&"&,dDFHgyDs0I]J:9,hs6<^Ԣ(FIcxtfʡ#BI؊XEwCv"K<d{QFRDb~;w%y.IqDZGcBV|)>rHAk!FAX	-:fD7	D]#ICP9a=#9VDi6I>0~)2 '7\EuQIy#'GA/NiZI$猑Z3tTI"春CEH'It3#g$9`dTe$[!iKҝSL8nO$aȄ2y:!hCFk~!JօOtH㜋kDg:ֲ$5/>B0!\z{"Gdt'89 "s#cutz9QlLC]g'X&hۖCdH]v"(|1_e$Rrv!;	.7:$D"H،'s!CtQ|쉶O"1d'$2sDƙLcI:8:	U%"DHC+w+rޔ-:9!F2UKG.XP,NI4KI='|*7d$-;CĢ%y&97vM	c49EDOsEȃqJ>QI"#$|-9s܋#7}FV.KG<؛eΌQ	CyGtQ>L#DHc$BDZuG$N,wJ]zOJ3{ΕYŭ=%z&{$Z'a:d<y순vVihw,G)fcX:f=yGM$$]YuIzIҺ'bNn.b:z1$hcݳZL"OBXI+[w%	w,Jc#/IDy淭g4G1PGdhsϒC<CE:ܚdShy:Ά=iV!$%#g=NH}&uь"H!,bmr^j&ЄIsh	T+aHFTC䳠k$H,Drd4,sȑ:fqנ#*>9A.wH.KtI$9	CF!O$\4ZCdE;΂21YֈVu΄!Ea财4c0:w	zt>R!;%VMI44aI!NΗ=+J ]c'YZbǲsgD'5ވcBI,B.wq$IpEDŬ!ֳVK1f.g!քDI|	P#<G&Dkw1!J\XCf=+(XĿHh9L'qC%$Q+aɩ6"iULP<HisbC9ĹyIy"9kIK0Ж!$ScGyys$C<9uhz(DaPv,!!Jiy[1tз,q-)Bt-ge^.d<#ó[S}fBE""&䮒GAɎWwĈtEɉܳrDOWYs!㢫A	k;6ZșIʞ{I;ddȝ.BthMGubPG.D0A-rq'!r,5(=u",Ns"II&ed_3=!+cщrfƯYksq3q$9Y	=\r Z1ׂD.1Jr'3N6<^'esvO,+'QFU:"/kCBE\NCXY2vq68dDyuVҸ\{!7%(N(7O|';r"g\N!T܎I~s:+ϋ+ũDFK:dH	qΌD<IlB!zI䣮FYλN$CG0["CtN/:M$LC1eB8!к6{	a	D,I4ؙ%{	dm(CI'e؜t-7z(DD϶E촲F9lAKoa%zZHiddpmC.Q"GdH=ud"eWk:!JPz.DJEĈIG12nGMgx;$dŤj*"GAҷ1df#dr$J>hCy&GcLև-QA'1!sZև-:Ƿ|퇪v$9D1:"JU=\BA8kKweR",;DMqG4_doJ	F)vvI$t_MtPD|]>^гD>gBr-/!/:ka(B:V'\:?DNۖDC0R=dzT;QǴw"q&%(I.k#-8\RFg!L;CC&ɸKҔ'2yE$`#.K'	A"E#$a܄A޴TK-2K#C9;&Ȏ;t%IȄ$!E$LRM.5".ܝCgtȈ$HHn^\tU'x"O$}*tRIItq:Ao;"!rS̛W %MwJkaD:"16,sBv%!'Κ!q(Dve;"NgJV:kI>h;Ǧęr%Z܄IΑȓڏ"rNM:6DE'Y	bfs1%ԛz:lG9-<Xt!u獙ch#K!<F.a"|c7tdPJ[+$2B웜[2Ja\%ajvD[Һ^f1CM".C	NΘa[gs#W")FK!uID=&!9'&	e-$S';3qsNӝ9dZJYEhER؄XwQ;CƬJ	'':ΜkK!JPJԇA$,NT2;F%'$g8[ȅu%*$LNˊ:cЌ,<OSS:E2ACZٕd[q&TIlK#d9B$#w7& AЌ-+E!$d<Acno#s6 !ع<i+2C#ԝgkb֒12r֖u(|\hsqWN)A%gr(P%B:'ZRG,!C[ܲ%[uS.V$t'X}oG"HFAGdA"2'#iAD̋D{3I/9<΢"-$2:JQuB\tA]9</AZI孑yI7G%{ŋ#Þ+Zs<Xro,q`&dD1}g;="o.k#҇F;lAswYD#Q[1iCL<rHAtFT:D"܋;Bωq[&!rTELIC2ԗE:"bx[ZwB^9ܲ3ny[gl<tBE.]ܗoC'<&Qx]wzчG%f9>d-vz"&Vf92#)EHK K'i$u\5#I0"cwDgqLHs(xv."dVGAC#ri.YsOZ$rzO}!d<דdA~BRd~bCK#bH洚B_!1|itX%!Jzbd:"aܻsv'lx7:ކ.dΕlĖq*(M-,b&Ɖo)RObWL!CdE|h`+WH$HD'3r[}MJ2!Y!urbwBHJp5!Ȯ/DɝJ"K99\(ɢy$ՏC7Q)[ub!&/[..bO	tLnMbSsI껓{yII9yɄ1ɒŞW+$y.D$BizRI$C1\sĭe.ϋЂzSZ߽YD݆ ZP$bB9ZzoCSBSAF!+ʬܒD$bYv<q*$%f+dpwOZ8HAr	BV3I:d9.Y)CqzWI1,$sJJ*s9д99Ȓ=LGUpt=+'"]BP	9E(̲'$tYէC9Y4+R#0E(=D'C+ΖZVJdw'KDxPy"&$HۤQL4w&P{>LI[DzFCt,b㤒뜐o%#r"U"&hAW>?'!s.$%Ԓf츈rBLܾBW	bsDhBfd!(Ɛ #$gMVDL#<OcȤ9,HY*x"uNGFNd:mtF|z&HR>%Kđh%h:$[~=w:]RY]9d1(#D;GIGYZBYkBhnEcw:2щݑM*y-0θ#,x)CT9Ei%r c$cEGev6H<ַ#ĭlcz٢y躮!FhH!F.\H"'^M+a0"HJŎ>NE)	rO!ɆD,c*zLRs!.tST#Ie)I]'%괥:ӗ!	!;vE	d!	sc~Y{.堋a/$ȉCv!\hIK~!*.ē;G0YQ[,t(_S)K|PRt-ZlJT#l]97{.MvE18s2HػH>D~Bnr"Ob'udȉCmi!nc-$PIFI[dϧ-<h>]bQKF:T·щԖZA$"EwA2ta:99<;]gعP"ǥi^Hw9!֜ҧ9cι2Ӛ9g|z!/!-l{t!%S.=F3a'w%tޔlr32sD=$$;T-;6!(H䬰KItb#G!YwO"M]HL9DIJ=(tbtQ"xɓ$9dtI.Ds<c12JrYùI<J>+y!7t"~qQa)$	I-:ĥߤIDd"$L߮΃	Y"bHe"!	GjY0vEC'Ctz5,Is$hĠ(&F9'M"S],GgI#PĒb&gLPQgb$9T"kq0v!Ckq$!YҳD!'!ImAy08Gq$bzzjkaU:$;EDЊ"LZ҃udl.kV"GFbO҂=h9sgraWZGI	E:HE1$EwR2L<}K$ksOLhFr#AHda6K\NN/<ZKVJsʑc3qnbPD%"qIz	h|yZI!Eh\HF)&sG{wzVF!Kd<ȃbuΜ-Y)Y~<2XtTZxɏZ%o[Dy܄"U7"Q/D2b&HI܆qiJE$#=^,Bdt1#}DBt#/EI35eR&/tLćЃ'FFUI"KLhĎ"1%E]wkJ$w:NGĲ!nV0:	'DܓD,"\r!._"0'.2!	J)yty,";uIt$&ș$'B'i!r`"XyGXuAsdC=)"tyi~]Gw"$ts̈́r%$ VLd{I9$Pr%hI1	a	BuI.LKrv(!i>|0!.r..[U;)i#γe75v2.'$jܔv$F'"]$cdG.|GӲJd>ؚPN(	2ؚ"|DRI;,1hz"ʯ!D=a(#".Dl#rt9Q+NBYiY}]+;S#w<	Se3ɫh"I^TE :(Czu)J;:'A.%g!#d,J)Ft#:0:g[Moc!+#3"cd!hv"QIϢTޕDS螉"҄nIt^Dr<OdKEue=Qkr$]%BVf;,r8LrrV1721"lX甙8yL&I:F$DI.bfvOE>.99NXJH8<DA#J4!vbor'nBqaU[25q(z.bWYt/DX/BOD=àrf9B'V<H<QL4IBY,"гrXIDFH8Z^I"Љyu0?VBa	"-[IXx$Z#2:)[1Z]3!;I,gX"{WÎ"+>NJ\KA܄n[Cc$2aq(vB^҉*)==dNG-:2LAIM;"G"9CD1CdB&/GI5䒒v.n!*,cQNLjZcE&Qs_	DvqVc֚^d{"%!ñaх1ˎG"V!n;5."6!t	A	NdJKbDvS;qB#3"O9(Y b \V!N:b{	B)e0'	|RGćb1:xɓ9Ӵ-CΌF""cC݉A$XDsqrۏ-;L!if=IDPGq,I'LȸFt6MwqV$۴G$<;s쇽YGJG#OgtԤt1BDGR&H]t[ćG5)dt:H#	U.Y敭gD:{rJy$r{IL ]=!jIqHVAД&-d"q2(Ί89֗OgdBLu\B^8zȡ9ܻs웗tYĹu-YJ/:nhYжEqIBIqbRIfE~%⛑h=%K9$:h	CPIȴ2#r=A,/;wE4"Mxcy9Us~<9GD(%8gG=.I쎥=2La(.sL0"B1^	+!$wFJ4gDW,9i1A䄝c,='4$QrHrHbLBRNG;us9AC}M2buC!BHv=A)!$m['OB/S"w;sn[$.[Δ$!K2&[<BDV:*ԎJcB9E$LM%cn"昹y"HzhBZH0	9ȵ,C'sDr*J<NZ1}G$$Jr<D0J;,mbPrQ"|$Y<=$(yΙI.]Kֲ!(;4<"!}D9tRx)dŭ<w2p{I.>/"Y1(:&-z.I/r!daȹ9Ha%׋u$"ҙHzwE#'Pt\ns别K#IL!c]Ⱥ!1伈Ah!7N1rK}F'bGdv!y$Nl9t?Ig9H]$1i'\[D|h$y1dy黟FF/qYrE#_,&֒!zr"D@"ӊ|!ɊD秡,̣ǲW#Ⱥq:	)Zn2z"$1:״&X$II%*<dB$,c$u#Db\y0{XVT\OIB)K[A.>=tahQ9M$9|,-|BDLP[g<ߍvK(I$"tYӤ#3;sȋF^kbф<y0JQ):BnbH!/ss$re$V/ [D'̝\{9"tq.IEqZ	"A7"Qc6wCB!	q6B,"Ğh"wn{Y*Cģ|e}B'o9؊I]>NhGzMbcd$:𻽉rG<:H"#Rqe.NgSy{&:MZc0Tty;,&$M>IMw^NDJ	O{CTW"RC$$=OB<:NW<Pm+b-Īh%r"'OEpG;Dۼa43M(HCDKq"B9"#W2X&>.|҉ɈB:)CEGMDI䍩"2qhJlHbw؞o9sh!s,<]=], [[M&  MB MLWMLLyLLML&LL­]]
	local by, FQID = ht.byte, GetFileIDFromPath
	for i=1,#hp do lhcPal[i] = by(hp, i) ~= 2 and by(hp, i)/255 or nil end
	setmetatable(lhc, {__index=function(t, k)
		local tk, v, s, r, a, b, c, d, e = type(k)
		c = tk == "string" and FQID(k)
		if c or tk == "number" then
			c = ((c or k) * 65521) % 268435399
		elseif tk == "string" then
			s, c = k:match("[^/\\]*$"):lower():gsub("%.blp$", ""), 8388593
			d = #s
			for i=1,d+1,2 do
				a, b = by(s, i, i+1)
				c = (c * 4093 + (a or d) * 408929023 + (b or d) * 65521) % 268435399
			end
		end
		if c then
			a = 2*(((c * 10817) % 2147483629) % 3511)
			a, b = by(ht, a+1, a+2)
			v = ((c * (a*256+b) + 10817) % 2147483629) % 14969
			v, r = 7023 + (v - v % 8)*5/8, v % 8
			a, b, c, d, e = by(ht, v, v + 4)
			v = a * 4294967296 + b * 16777216 + c * 65536 + d * 256 + e
			v = ((v - v % 32^r) / 32^r % 32) * 3 - 2
		end
		t[k or false] = lhcPal[v] and v or -3
		return t[k or false]
	end})
end

local Niji, _, T = {_tex=lhc, _palette=lhcPal}, ...
function Niji.GetIconColor(texturePath, r,g,b)
	local li = lhc[texturePath] or -3
	return lhcPal[li] or r, lhcPal[li+1] or g, lhcPal[li+2] or b
end
T.Niji = Niji